<ng-container *ngIf="dataService.selectedNetwork">

  <h1>
    <a [routerLink]="['', { outlets: {primary: ['graph', dataService.selectedNetwork.id]} }]" data-toggle="tooltip"
       ngbTooltip="{{'MAIN_MAPPINGS_GRAPH' | translate}}" placement="right"
       role="button">
      <fa-icon [icon]="faArrowLeft"></fa-icon>
    </a>
    {{dataService.selectedNetwork.networkInformation.name}}
  </h1>

  <hr>

  <!-- PASSTHROUGH -->
  <div
    *ngIf="dataService.selectedPassthroughMapping">
    <table id="tableDetailsPassthrough" class="table">
      <thead>
      <tr>
        <th>{{'MAIN_MAPPINGS_TH_COL' | translate}}</th>
        <th>{{'MAIN_MAPPINGS_TH_STYLE' | translate}}</th>
      </tr>
      </thead>
      <tbody>
      <tr>
        <td>{{dataService.selectedPassthroughMapping.col}}</td>
        <td>{{dataService.selectedPassthroughMapping.styleProperty}}</td>
      </tr>
      </tbody>
    </table>

    <button (click)="toggleGlobalRemoveDialogue()"
            class="btn btn-block btn-outline-danger"
            data-toggle="tooltip" ngbTooltip="{{'MAIN_MAPPINGS_TT_DELETE' | translate}}"
            placement="bottom">
      <fa-icon [icon]="faTrash"></fa-icon>
      {{'MAIN_MAPPINGS_DELETE' | translate}}
    </button>

  </div>

  <!-- DISCRETE -->
  <div
    *ngIf="dataService.selectedDiscreteMapping">

    <div class="table-responsive">

      <table id="tableDetailsDiscrete" class="table">
        <thead>
        <tr>
          <th>{{dataService.selectedDiscreteMappingProperty}}</th>
          <th
            *ngFor="let is of dataService.selectedDiscreteMapping|isByCol : dataService.selectedDiscreteMappingProperty">
            {{is}}
          </th>
          <th colspan="2">&nbsp;</th>
        </tr>
        </thead>

        <tbody>
        <tr [ngClass]="dataService.selectedForDeletion === styleProperty ? 'table-danger' : ''"
            *ngFor="let styleProperty of dataService.selectedDiscreteMapping|stylePropertiesByCol : dataService.selectedDiscreteMappingProperty; let styleIndex = index">
          <td>{{styleProperty}}</td>

          <td
            *ngFor="let is of dataService.selectedDiscreteMapping|isByCol : dataService.selectedDiscreteMappingProperty">
          <span
            #tmp>{{dataService.selectedDiscreteMapping|styleValueByColAndKey : dataService.selectedDiscreteMappingProperty : styleProperty : is}}</span>
            <span *ngIf="tmp.innerHTML.startsWith('#')" class="badge badge-pill border"
                  [ngStyle]="{'background-color': dataService.selectedDiscreteMapping|styleValueByColAndKey : dataService.selectedDiscreteMappingProperty : styleProperty : is}">
            &nbsp;
          </span>
          </td>

          <td>
            <button class="btn btn-outline-warning"
                    [routerLink]="['', { outlets: {primary: ['edit', mapHint + styleIndex]} }]">
              <fa-icon [icon]="faEdit"></fa-icon>
            </button>
          </td>
          <td>
            <button class="btn btn-outline-danger" (click)="toggleRemoveDiscreteSingle(styleIndex)">
              <fa-icon [icon]="faTrash"></fa-icon>
            </button>
          </td>

        </tr>
        </tbody>

      </table>

    </div>
    <button (click)="toggleGlobalRemoveDialogue()"
            class="btn btn-block btn-outline-danger"
            data-toggle="tooltip" ngbTooltip="{{'MAIN_MAPPINGS_TT_DELETE' | translate}}"
            placement="bottom">
      <fa-icon [icon]="faTrash"></fa-icon>
      {{'MAIN_MAPPINGS_DELETE' | translate}}
    </button>

  </div>

  <!-- CONTINUOUS -->
  <div
    *ngIf="dataService.selectedContinuousMapping">

    <table id="tableDetailsContinuous" class="table">

      <thead>
      <tr>
        <th>{{dataService.selectedContinuousMapping.col}}</th>
        <th>{{dataService.selectedContinuousMapping.styleProperty}}</th>

        <!-- EDIT -->
        <th>
          <button class="btn btn-block btn-outline-warning"
                  [routerLink]="['', { outlets: {primary: ['edit', mapId]} }]">
            <fa-icon [icon]="faEdit"></fa-icon>
          </button>
        </th>

      </tr>
      </thead>

      <tbody>
      <tr>
        <!-- default lower -->
        <td><</td>
        <td colspan="2">
          <span #defaultLower>
            {{dataService.selectedContinuousMapping.lowers[0]}}
          </span>
          <span *ngIf="dataService.selectedContinuousMapping.isColor" class="badge-pill border"
                [ngStyle]="{'background-color': defaultLower.innerHTML || ''}">&nbsp;</span>
        </td>
      </tr>

      <tr *ngFor="let eq of dataService.selectedContinuousMapping.equals; let index = index">
        <td>{{dataService.selectedContinuousMapping.thresholds[index]}}</td>
        <td colspan="2">
          {{eq}}
          <span *ngIf="dataService.selectedContinuousMapping.isColor" class="badge-pill border"
                [ngStyle]="{'background-color': eq}">&nbsp;</span>
        </td>
      </tr>
      <tr>
        <!-- default greater -->
        <td>></td>
        <td colspan="2">
          <span #defaultGreater>
            {{dataService.selectedContinuousMapping.greaters[dataService.selectedContinuousMapping.greaters.length - 1]}}
          </span>
          <span *ngIf="dataService.selectedContinuousMapping.isColor" class="badge-pill border"
                [ngStyle]="{'background-color': defaultGreater.innerHTML || ''}">&nbsp;</span>
        </td>
      </tr>

      </tbody>

    </table>

    <button (click)="toggleGlobalRemoveDialogue()"
            class="btn btn-block btn-outline-danger"
            data-toggle="tooltip" ngbTooltip="{{'MAIN_MAPPINGS_TT_DELETE' | translate}}"
            placement="bottom">
      <fa-icon [icon]="faTrash"></fa-icon>
      {{'MAIN_MAPPINGS_DELETE' | translate}}
    </button>

  </div>

  <hr *ngIf="dataService.selectedTypeHint">

  <!-- SHOW LIST -->
  <div *ngIf="!showGlobalDeletionDialogue && !showSingleDeletionDialogue">

    <h3>{{'MAIN_MAPPINGS_TITLE_LIST' | translate}}</h3>

    <div class="row">

      <!-- ND -->
      <div class="col-xl-6 col-12">

        <app-main-mappings-available-attributes
          [attributeListFull]="getAttributeListForCurrentNetworkAndType('nd')"
          [headline]="'MAIN_MAPPINGS_TITLE_NODES_DISCRETE'"
          [mappings]="getExistingMappingListForCurrentNetworkAndType('nd')"
          [type]="'nd'">
        </app-main-mappings-available-attributes>

      </div>
      <!-- ED -->
      <div class="col-xl-6 col-12">

        <app-main-mappings-available-attributes
          [attributeListFull]="getAttributeListForCurrentNetworkAndType('ed')"
          [headline]="'MAIN_MAPPINGS_TITLE_EDGES_DISCRETE'"
          [mappings]="getExistingMappingListForCurrentNetworkAndType('ed')"
          [type]="'ed'">
        </app-main-mappings-available-attributes>

      </div>

      <!-- break -->
      <div class="w-100 border-bottom mb-3 mt-3"></div>
      <hr>

      <!-- NC -->
      <div class="col-xl-6 col-12">

        <app-main-mappings-available-attributes
          [attributeListFull]="getAttributeListForCurrentNetworkAndType('nc')"
          [headline]="'MAIN_MAPPINGS_TITLE_NODES_CONTINUOUS'"
          [mappings]="getExistingMappingListForCurrentNetworkAndType('nc')"
          [type]="'nc'">
        </app-main-mappings-available-attributes>

      </div>
      <!-- EC -->
      <div class="col-xl-6 col-12">

        <app-main-mappings-available-attributes
          [attributeListFull]="getAttributeListForCurrentNetworkAndType('ec')"
          [headline]="'MAIN_MAPPINGS_TITLE_EDGES_CONTINUOUS'"
          [mappings]="getExistingMappingListForCurrentNetworkAndType('ec')"
          [type]="'ec'">
        </app-main-mappings-available-attributes>

      </div>

      <!-- break -->
      <div class="w-100 border-bottom mb-3 mt-3"></div>

      <!-- NP -->
      <div class="col-xl-6 col-12">

        <app-main-mappings-available-attributes
          [attributeListFull]="getAttributeListForCurrentNetworkAndType('np')"
          [headline]="'MAIN_MAPPINGS_TITLE_NODES_PASSTHROUGH'"
          [mappings]="getExistingMappingListForCurrentNetworkAndType('np')"
          [type]="'np'">
        </app-main-mappings-available-attributes>

      </div>
      <!-- EP -->
      <div class="col-xl-6 col-12">

        <app-main-mappings-available-attributes
          [attributeListFull]="getAttributeListForCurrentNetworkAndType('ep')"
          [headline]="'MAIN_MAPPINGS_TITLE_EDGES_PASSTHROUGH'"
          [mappings]="getExistingMappingListForCurrentNetworkAndType('ep')"
          [type]="'ep'">
        </app-main-mappings-available-attributes>

      </div>

    </div>

  </div>

  <!-- SHOW GLOBAL DELETION DIALOGUE -->
  <div *ngIf="showGlobalDeletionDialogue && !showSingleDeletionDialogue">
    <div class="alert alert-danger" role="alert">
      {{'MAIN_MAPPINGS_CONFIRM_DELETION' | translate}}
    </div>

    <div class="row">

      <!-- nevermind -->
      <div class="col-6">
        <button (click)="confirmDeletionGlobal(false)" class="btn btn-block btn-outline-success">
          <fa-icon [icon]="faTimes"></fa-icon>
          {{'MAIN_MAPPINGS_CONFIRM_DELETION_NO' | translate}}
        </button>
      </div>

      <!-- confirm -->
      <div class="col-6">
        <button (click)="confirmDeletionGlobal(true)"
                [routerLink]="['', { outlets: {primary: ['graph', dataService.selectedNetwork.id]} }]"
                class="btn btn-block btn-outline-danger">
          <fa-icon [icon]="faCheck"></fa-icon>
          {{'MAIN_MAPPINGS_CONFIRM_DELETION_YES' | translate}}
        </button>
      </div>
    </div>

  </div>

  <!-- SHOW SINGLE DELETION DIALOGUE -->
  <div *ngIf="showSingleDeletionDialogue && !showGlobalDeletionDialogue" class="mb-3">
    <div class="alert alert-danger" role="alert">
      {{'MAIN_MAPPINGS_SINGLE_CONFIRM_DELETION' | translate}}
    </div>

    <div class="row">

      <!-- nevermind -->
      <div class="col-6">
        <button (click)="confirmDeletionSingle(false)" class="btn btn-block btn-outline-success">
          <fa-icon [icon]="faTimes"></fa-icon>
          {{'MAIN_MAPPINGS_CONFIRM_DELETION_NO' | translate}}
        </button>
      </div>

      <!-- confirm -->
      <div class="col-6">
        <button (click)="confirmDeletionSingle(true)"
                [routerLink]="['', { outlets: {primary: ['graph', dataService.selectedNetwork.id]} }]"
                class="btn btn-block btn-outline-danger">
          <fa-icon [icon]="faCheck"></fa-icon>
          {{'MAIN_MAPPINGS_CONFIRM_DELETION_YES' | translate}}
        </button>
      </div>
    </div>

  </div>

</ng-container>
