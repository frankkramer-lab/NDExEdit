<div class="p-2">

  <h5>

    <a [routerLink]="['', { outlets: {sidebar: ['manage']} }]"
       class="mb-1"
       data-toggle="tooltip"
       ngbTooltip="{{'NAV_MANAGE' | translate}}"
       placement="{{layoutService.layout.sidebar.tooltipDirection}}"
       role="button"
       type="button">
      <fa-icon [icon]="faArrowLeft" class="mr-1"></fa-icon>
    </a>
    {{'SIDEBAR_IMAGE_TITLE' | translate}}
  </h5>

  <p>{{'SIDEBAR_IMAGE_GENERAL' | translate}}</p>

  <form>

    <div class="row mb-2">

      <div class="col-6">

        <!-- Labels -->
        <div class="form-check">
          <input (click)="toggleLabels(!dataService.getSelectedNetwork().showLabels)"
                 [checked]="dataService.getSelectedNetwork().showLabels"
                 class="form-check-input" id="imgShowLabels"
                 type="checkbox">
          <label class="form-check-label" for="imgShowLabels">
            {{'SIDEBAR_EDIT_CB_LABELS' | translate}}
          </label>
        </div>

        <!-- Full vs viewport -->
        <div class="form-check">
          <input [(ngModel)]="optFull" class="form-check-input" id="fullViewportInput"
                 name="fullViewportInput" type="checkbox"
                 value="">
          <label class="form-check-label" for="fullViewportInput">
            {{'SIDEBAR_IMAGE_FULL' | translate}}
          </label>
          <small>{{'SIDEBAR_IMAGE_FULL_HINT' | translate}}</small>
        </div>

      </div>

      <div class="col-6">
        <button aria-expanded="false"
                aria-haspopup="true"
                class="btn btn-block btn-outline-success dropdown-toggle" data-toggle="dropdown" type="button">
          {{selectedFileType || 'SIDEBAR_IMAGE_SELECT_TYPE' | translate}}
        </button>
        <div class="dropdown-menu">
          <a (click)="selectImageType(option)" *ngFor="let option of fileTypeOptions"
             class="dropdown-item">{{option}}</a>
        </div>

      </div>

    </div>

    <div class="form-row mb-2">

      <div class="col-6">
        <!-- BG white vs transparent: only for PNG -->
        <div class="form-check">
          <input [(ngModel)]="optUseBg"
                 class="form-check-input"
                 id="bgUse"
                 name="bgUse"
                 type="checkbox"
                 value="optUseBg">
          <label class="form-check-label"
                 for="bgUse">
            {{'SIDEBAR_IMAGE_BG' | translate}}
          </label>
        </div>
      </div>

      <div *ngIf="optUseBg" class="col-2">
        <button (click)="this.optBg = dataService.getBackgroundColor()" class="btn btn-outline-secondary">
          <fa-icon [icon]="faRedo"></fa-icon>
        </button>
      </div>

      <div [ngClass]="optUseBg ? 'col-4' : 'col-6'">

        <input *ngIf="optUseBg"
               [(ngModel)]="optBg"
               class="form-control form-control-color"
               id="colorBg"
               name="colorBg"
               type="color"
               value="{{optBg}}">

        <small *ngIf="selectedFileType !== 'PNG' && !optUseBg">{{'SIDEBAR_IMAGE_BG_HINT' | translate}}</small>
        <small *ngIf="selectedFileType === 'PNG' && !optUseBg">{{'SIDEBAR_IMAGE_BG_PNG_HINT' | translate}}</small>
      </div>

    </div>

    <div class="row mb-2">
      <div class="col-6">
        <label for="widthInput">{{'SIDEBAR_IMAGE_WIDTH' | translate}}</label>
        <input [(ngModel)]="optWidth" class="form-control" id="widthInput" name="widthInput" type="number">
      </div>
      <div class="col-6">
        <label for="heightInput">{{'SIDEBAR_IMAGE_HEIGHT' | translate}}</label>
        <input [(ngModel)]="optHeight" class="form-control" id="heightInput" name="heightInput" type="number">
      </div>
    </div>

    <!-- Scale -->
    <div class="form-group mb-2">
      <label for="scaleInput">{{'SIDEBAR_IMAGE_SCALE' | translate}}</label>
      <input [(ngModel)]="optScale" class="form-control-range" id="scaleInput" max="10"
             min="1" name="scaleInput" type="range">
      <small>{{'SIDEBAR_IMAGE_SCALE_HINT' | translate}}</small>
    </div>
  </form>

  <button (click)="downloadImage()" *ngIf="selectedFileType"
          class="btn btn-lg btn-block btn-success">
    {{'SIDEBAR_IMAGE_BTN_DOWNLOAD' | translate}}
  </button>

</div>
